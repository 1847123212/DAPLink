/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

static const uint32_t ama3b1kk_flash_prog_blob[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x8010f3ef, 0x4770b662, 0x8010f3ef, 0x4770b672, 0x8810f380, 0x00004770, 0x4770ba40, 0x4770ba40,
    0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770bac0, 0x4770bac0, 0x4770bac0,
    0x4770bac0, 0x4770bac0, 0x4770bac0, 0x4770bac0, 0x0030ea4f, 0x00004770, 0x0030ea4f, 0x00004770,
    0x0030ea4f, 0x00004770, 0x0030ea4f, 0x00004770, 0x0030ea4f, 0x00004770, 0x0030ea4f, 0x00004770,
    0x0030ea4f, 0x00004770, 0x4604b538, 0xffbcf7ff, 0x90004da2, 0xf4206828, 0x60287040, 0xf7ff9800,
    0x78a0ffb7, 0xea012102, 0x78210040, 0xea0222f0, 0x43081101, 0xf44f7861, 0xea027240, 0x43082101,
    0x6080f440, 0x1080f440, 0x20006028, 0x4893bd38, 0xf0416801, 0x60010101, 0x47702000, 0xf7ffb508,
    0x9000ff93, 0x6801488d, 0x7140f421, 0x68016001, 0x0101f021, 0x98006001, 0xff8af7ff, 0xbd082000,
    0x2812b508, 0xe8dfd273, 0x098af000, 0x1a17140b, 0x27211e1c, 0x594c3f33, 0x7c746c66, 0xe0172001,
    0x6800487e, 0x7f80f010, 0x2007bf0a, 0xbd082002, 0xf44fe00e, 0xe00b6088, 0x7008f44f, 0x2040e008,
    0x2020e006, 0xf44fe004, 0xe0016080, 0x7000f44f, 0x60884972, 0xbd082000, 0xff56f7ff, 0x486f9000,
    0xf0416801, 0x60017180, 0xf7ff9800, 0xe7f1ff51, 0xff4af7ff, 0x48699000, 0xf0216801, 0x60017180,
    0xf7ff9800, 0xe7e5ff45, 0xf0002000, 0xb378f86e, 0xf0002007, 0xb358f888, 0xf0002003, 0xb338f8a1,
    0x2001e7d8, 0xf861f000, 0x2005b310, 0xf87bf000, 0x2001b1f0, 0xf894f000, 0xe7cbb1d0, 0xf0002001,
    0xb1a8f854, 0xf0002006, 0xb188f86e, 0xf0002001, 0xb168f887, 0xb151e7be, 0xf0006808, 0xb138f846,
    0xb121e7b8, 0xf0006808, 0xb108f85e, 0xe016e7b2, 0xb1a1e005, 0xf0006808, 0x2800f873, 0x2001d1aa,
    0xb161bd08, 0x46026848, 0x121af36f, 0x688ab93a, 0x121af36f, 0x780ab91a, 0x2a01b11a, 0x2006d00a,
    0x4a3ebd08, 0x68886110, 0x78496150, 0xf3616810, 0xe0070082, 0x61904a39, 0x61d06888, 0x68107849,
    0x00c3f361, 0xe7856010, 0xbf042800, 0x47702006, 0x68894932, 0x1200f3c1, 0xf3c17002, 0x70422200,
    0x0180f3c1, 0x20007081, 0x28034770, 0x2000bf84, 0xb5384770, 0x4d2a4604, 0xfec6f7ff, 0x46289000,
    0xfc5bf000, 0x5140f44f, 0x507cf420, 0x3104ea01, 0xf4404308, 0x462861e0, 0xfc51f000, 0xf7ff9800,
    0x2001feb7, 0x2807bd38, 0x2000bf84, 0xb5384770, 0x4d1b4604, 0xfea8f7ff, 0x46289000, 0xfc3df000,
    0xf4202170, 0xea016077, 0x43081104, 0x61e0f440, 0xf0004628, 0x9800fc34, 0xfe9af7ff, 0xbd382001,
    0xbf84280f, 0x47702000, 0x4604b538, 0xf7ff4d0c, 0x9000fe8b, 0xf0004628, 0xf020fc20, 0xf420000f,
    0xf0046070, 0x4308010f, 0x61e0f440, 0xf0004628, 0x9800fc16, 0xfe7cf7ff, 0xbd382001, 0x40018000,
    0x40018004, 0x460cb510, 0x44494974, 0xb912680a, 0x68124a73, 0x280a600a, 0xe8dfd267, 0x1b05f000,
    0x0c212715, 0x5e453a40, 0x2040f04f, 0x61412147, 0x61812100, 0xf04fe006, 0x21472040, 0x21016141,
    0x21006181, 0xe04e6141, 0x2040f04f, 0xf02168c1, 0xe0270102, 0x2040f04f, 0xf02168c1, 0xe0210101,
    0x2040f04f, 0xf04168c1, 0xe01b0102, 0x68c1485d, 0x2921b2c9, 0xf8d0d107, 0xf4211120, 0xf5017140,
    0xf8c07180, 0xf04f1120, 0x68c12040, 0x0101f041, 0xf04fe008, 0x68c12040, 0x0180f041, 0xf04fe002,
    0x68c12040, 0xe01e60c1, 0x68c1484e, 0x2921b2c9, 0xf8d0d109, 0xf4411120, 0xf8c07140, 0xf44f1120,
    0xf000507a, 0x2c00f907, 0x4847bf0c, 0xf0406820, 0xf04f0001, 0x62082140, 0xf04fe005, 0x6a012040,
    0x0101f021, 0x20006201, 0x2006bd10, 0x2800bd10, 0x2006bf04, 0xf04f4770, 0x69912240, 0x0f01f011,
    0x493abf14, 0x6001493a, 0xf00169d1, 0xf3c10201, 0x60420140, 0x20007201, 0xf04f4770, 0xb9182240,
    0xf0236913, 0x61130380, 0xbf842939, 0x47702006, 0xf0036913, 0x428b033f, 0x6913d007, 0x0380f023,
    0x69136113, 0x0305f361, 0x69116113, 0x11c7f360, 0x20006111, 0xf0104770, 0xbf040f07, 0x47702006,
    0x2140f04f, 0x2100f8d1, 0xf8c14310, 0x20000100, 0xf0104770, 0xbf040f07, 0x47702006, 0x2140f04f,
    0x2100f8d1, 0x0000ea22, 0x0100f8c1, 0x47702000, 0x0f07f010, 0x2006bf04, 0xf04f4770, 0xf8c12140,
    0x20000108, 0x29004770, 0x2006bf04, 0xf04f4770, 0xf8d32340, 0x28002104, 0xf8d3bf1c, 0x40020100,
    0x600a2000, 0xf0104770, 0xbf040f07, 0x47702006, 0x2140f04f, 0x010cf8c1, 0x47702000, 0x00000010,
    0x4ffff000, 0x40020000, 0x0025b801, 0x016e3600, 0x02dc6c00, 0x47104af7, 0x47184bf7, 0x43f8e92d,
    0x4680461c, 0x0584eb01, 0xf1a54ef4, 0x46175080, 0x20c0f5b0, 0xb001d005, 0x46b44640, 0x43f0e8bd,
    0x2c014760, 0x1e63d906, 0x47b04640, 0xbf182800, 0x83f8e8bd, 0x0c04f855, 0xeb079000, 0x1f020084,
    0x46692301, 0x47b04640, 0x83f8e8bd, 0x43d3b508, 0x680a9300, 0xc384f8df, 0x0202ea63, 0x460a9200,
    0x46692301, 0xbd0847e0, 0x45f0e92d, 0x4682b083, 0x4edb9c0a, 0x0584eb02, 0x5080f1a5, 0x4688461f,
    0x20c0f5b0, 0x4650d005, 0x47b09400, 0xe8bdb003, 0x2c0185f0, 0x1e60d908, 0x46509000, 0x280047b0,
    0xb003bf1c, 0x85f0e8bd, 0x0c04f855, 0x20019001, 0x19389000, 0xaa011e43, 0x46504641, 0xb00347b0,
    0x85f0e8bd, 0x47104ac7, 0x47104ac7, 0x470849c7, 0x470849c7, 0x2140f04f, 0xf0116b49, 0xbf1a0f04,
    0x210e0040, 0x4288210b, 0x4770bf98, 0x49c11a40, 0xe92d4708, 0xf8df47f0, 0x461da2fc, 0x460f4616,
    0xf04f4604, 0x68382840, 0x42a84030, 0x2000d102, 0x87f0e8bd, 0xd30e1e64, 0x1034f8d8, 0xf0112010,
    0xbf1a0f04, 0xf04f2020, 0xf04f0c0e, 0xeba00c0b, 0x47d0000c, 0x2004e7e7, 0x87f0e8bd, 0x4df0e92d,
    0xb2b0f8df, 0x8020f8dd, 0x4615461c, 0x4607460e, 0x2a40f04f, 0xf1b86830, 0xea000f00, 0xd0020005,
    0xd00242a0, 0x42a0e004, 0x2000d002, 0x8df0e8bd, 0xd30b1e7f, 0x0034f8da, 0xf0102110, 0xbf1a0f04,
    0x200e2120, 0x1a08200b, 0xe7e347d8, 0xe8bd2004, 0x48998df0, 0x68c14a99, 0xd10d4291, 0x68814a98,
    0xd1094291, 0x68414a97, 0xd1054291, 0x49966800, 0xbf044288, 0x47702001, 0x47702000, 0xb086b510,
    0xf7ff4604, 0x2800ffe6, 0x2000bf1e, 0xbd10b006, 0xfa35f000, 0xbf022800, 0x3000f44f, 0xbd10b006,
    0x90054886, 0x90044886, 0x90034886, 0x90024886, 0x23002004, 0xf8df9000, 0xaa02c1e8, 0x46204619,
    0x280047e0, 0xf44fbf14, 0x21003180, 0xb0064308, 0xb510bd10, 0xffd2f7ff, 0xbf0c2800, 0x20002001,
    0xb510bd10, 0x4604b082, 0xffc8f7ff, 0xbf1c2800, 0xbd10b002, 0x69004870, 0xf4202304, 0x90017080,
    0x90002001, 0xc198f8df, 0x2100aa01, 0x47e04620, 0xbd10b002, 0xf000b510, 0x2800f9f2, 0x2000bf1c,
    0xf7ffbd10, 0x2800ff96, 0xbd10bf08, 0x69004862, 0xea212101, 0xbd102010, 0xb083b530, 0x4605460c,
    0xff9cf7ff, 0xbf1c2800, 0xbd30b003, 0x495a0120, 0x00f0f000, 0x23046909, 0x0000ea21, 0x20019001,
    0xf8df9000, 0xaa01c13c, 0x46282100, 0xb00347e0, 0xb510bd30, 0xf9c3f000, 0xf7ffb940, 0xb128ff6a,
    0x6900484d, 0xf3c043c0, 0xbd101003, 0x30fff04f, 0xb510bd10, 0x4604b082, 0xff70f7ff, 0xbf1c2800,
    0xbd10b002, 0x69004844, 0xf0202304, 0x90010008, 0x90002001, 0xc0e8f8df, 0x2100aa01, 0x47e04620,
    0xbd10b002, 0xf000b510, 0x2800f99a, 0x2000bf1c, 0xf7ffbd10, 0x2800ff3e, 0xbd10bf08, 0x69004836,
    0xea212101, 0xbd1000d0, 0xb082b510, 0xf7ff4604, 0x2800ff45, 0xb002bf1c, 0x482fbd10, 0x23046900,
    0x0004f020, 0x20019001, 0xf8df9000, 0xaa01c094, 0x46202100, 0xb00247e0, 0xb510bd10, 0xf96ff000,
    0xbf1c2800, 0xbd102000, 0xff13f7ff, 0xbf082800, 0x4821bd10, 0x21016900, 0x0090ea21, 0xb510bd10,
    0x4604b082, 0xff1af7ff, 0xbf1c2800, 0xbd10b002, 0x69004819, 0xf0202304, 0x90010002, 0x90002001,
    0xc03cf8df, 0x2100aa01, 0x47e04620, 0xbd10b002, 0xf000b510, 0x2800f944, 0x2000bf1c, 0xf7ffbd10,
    0x2800fee8, 0xbd10bf08, 0x6900480b, 0xea212101, 0xbd100050, 0x0800004d, 0x08000051, 0x08000055,
    0x08000059, 0x08000081, 0x08000089, 0x08000091, 0x08000099, 0x0800009d, 0x50020000, 0xe41a9d74,
    0x0a6b8458, 0xc9705737, 0x48eaad88, 0xb082b510, 0xf7ff4604, 0x2800fed3, 0xb002bf1c, 0x48a3bd10,
    0x23046900, 0x0001f020, 0x20019001, 0xf8df9000, 0xaa01c280, 0x46202100, 0xb00247e0, 0xb510bd10,
    0xf8fdf000, 0xbf1c2800, 0xbd102000, 0xfea1f7ff, 0xbf082800, 0x4895bd10, 0x21016900, 0x0000ea21,
    0xe92dbd10, 0x460b41f0, 0xb0844607, 0x4e912500, 0x46184611, 0xf8f8f000, 0x43c1460c, 0x0104ea71,
    0xf44fbf02, 0xb0041080, 0x81f0e8bd, 0x91026831, 0xf8df6871, 0x9103821c, 0x3ffff1b0, 0x0601f04f,
    0x9902bf1c, 0xd0134281, 0x0001ea60, 0xf04f9002, 0xf04f0501, 0xaa020314, 0x0100f04f, 0x46389600,
    0x280047c0, 0xf440bf1e, 0xb0043080, 0x81f0e8bd, 0x3ffff1b4, 0x9803bf1c, 0xd01242a0, 0x0000ea64,
    0xf04f9003, 0xaa030315, 0x0100f04f, 0x46389600, 0x280047c0, 0xf440bf18, 0xd0093000, 0xe8bdb004,
    0x2d0081f0, 0xf44fbf02, 0xb0040080, 0x81f0e8bd, 0xb0042000, 0x81f0e8bd, 0x4c66b510, 0xf8a4f000,
    0xea7243c2, 0xd0080201, 0xea326822, 0xbf010000, 0xea306860, 0x20010001, 0x2000bd10, 0xe92dbd10,
    0x460b41f0, 0xb0844607, 0x4e5b2500, 0x46184611, 0xf88af000, 0x43c1460c, 0x0104ea71, 0xf44fbf02,
    0xb0041080, 0x81f0e8bd, 0x91026831, 0xf8df6871, 0x91038140, 0x3ffff1b0, 0x0601f04f, 0x9902bf1c,
    0xd0134281, 0x0001ea60, 0xf04f9002, 0xf04f0501, 0xaa020310, 0x0100f04f, 0x46389600, 0x280047c0,
    0xf440bf1e, 0xb0043080, 0x81f0e8bd, 0x3ffff1b4, 0x9803bf1c, 0xd01242a0, 0x0000ea64, 0xf04f9003,
    0xaa030311, 0x0100f04f, 0x46389600, 0x280047c0, 0xf440bf18, 0xd0093000, 0xe8bdb004, 0x2d0081f0,
    0xf44fbf02, 0xb0040080, 0x81f0e8bd, 0xb0042000, 0x81f0e8bd, 0x4c30b510, 0xf836f000, 0xea7243c2,
    0xd0080201, 0xea326822, 0xbf010000, 0xea306860, 0x20010001, 0x2000bd10, 0x4928bd10, 0xb5004708,
    0xb0834a27, 0xe9d2447a, 0x68923c00, 0xe9cd9300, 0x466ac201, 0x0201f042, 0xb0034790, 0x481bbd00,
    0xf1b168c1, 0xbf043fff, 0xf1b16881, 0xd1083fff, 0xf1b16841, 0xbf013fff, 0xf1b06800, 0x20013fff,
    0xf04f4770, 0x47700000, 0xbf984288, 0x1f80f5b1, 0xf04fbf22, 0x460130ff, 0xb5104770, 0xebc40b84,
    0x1c423091, 0xbf042a40, 0x30fff04f, 0xd0094601, 0x21002001, 0xf918f000, 0xf1411e40, 0x462231ff,
    0xf912f000, 0x43c943c0, 0x0000bd10, 0x50020000, 0x08000059, 0x50020050, 0x50020040, 0x08000075,
    0x00000328, 0x2800b538, 0x2501bf08, 0x2801d01d, 0x2501bf08, 0x2802d008, 0x2500bf08, 0x2803d015,
    0x2006bf16, 0xbd382500, 0xf7ff2402, 0x9000f9fd, 0x4080f04f, 0x68012d00, 0x4321bf14, 0x600143a1,
    0xf7ff9800, 0x2000f9f5, 0x2401bd38, 0xf04fe7ed, 0x28004180, 0x20d4bf04, 0xd0106088, 0xbf042801,
    0x6048201b, 0x2802d00b, 0x2803d006, 0x2001bf06, 0x20066148, 0x4770d003, 0x20004936, 0x20006008,
    0x28004770, 0x2006bf04, 0x49334770, 0x680a4449, 0x4a30b912, 0x600a6812, 0x8002880a, 0xf002780a,
    0x70820201, 0xf3c2780a, 0x70c20240, 0xf3c16809, 0x71020280, 0x02c0f3c1, 0xf3c17142, 0x71821200,
    0x1240f3c1, 0xf3c171c2, 0x72021280, 0x12c0f3c1, 0xf3c17242, 0x72822200, 0x2240f3c1, 0xf3c172c2,
    0x73022280, 0xbf0c2900, 0x20002001, 0xb5384770, 0xf7ff4604, 0x9000f999, 0x4080f04f, 0x1200f8d0,
    0xf8c04321, 0x98001200, 0xf992f7ff, 0xbd382000, 0x4604b538, 0xf988f7ff, 0xf04f9000, 0xf8d04080,
    0x43a11200, 0x1200f8c0, 0xf7ff9800, 0x2000f981, 0xf04fbd38, 0xf8c14180, 0x20000200, 0x29004770,
    0x2006bf04, 0xf04f4770, 0xf8d04080, 0x60080204, 0x47702000, 0x4ffff000, 0x00000010, 0x2100b510,
    0xf7ff4608, 0x2800faef, 0xbd10bf18, 0x44784814, 0xf99af7ff, 0xbf182800, 0xe8bdbd10, 0xf7ff4010,
    0x2000b9b6, 0xb5104770, 0x21014c0e, 0xf7ff4620, 0x2800fbd1, 0xbd10bf18, 0x46202100, 0x4010e8bd,
    0xbbc8f7ff, 0x3245f3c0, 0x41c0f3c0, 0xf7ff4805, 0x4694bbc3, 0x4602460b, 0x48024661, 0xbbbef7ff,
    0x000000b4, 0x12344321, 0x2040f04f, 0x490c6980, 0x0001f000, 0xfbb11c40, 0x490af0f0, 0x60084449,
    0x49084770, 0x44494806, 0xf04f6008, 0x21472040, 0x69816141, 0x0101f021, 0x21006181, 0x47706141,
    0x02dc6c00, 0x00000014, 0xdb042a20, 0xfa003a20, 0x2000f102, 0x40914770, 0x0320f1c2, 0xf303fa20,
    0x40904319, 0x03084770, 0x00000000, 0x0800004d, 0x08000051, 0x08000055, 0x08000059, 0x0800006d,
    0x08000071, 0x08000095, 0x0800007d, 0x08000075, 0x08000079, 0x0800009d, 0x08000081, 0x08000089,
    0x08000091, 0x08000099, 0x0800005d, 0x08000061, 0x08000065, 0x08000069, 0x08000085, 0x0800008d,
    0x080000a1, 0x080000a5, 0x080000a9, 0x10060000, 0xbf006001, 0xbf006800, 0xbf004770, 0x00000000,
    0xbf006001, 0xbf006800, 0xbf004770, 0x00000000, 0x02dc6c00
};

// Start address of flash
static const uint32_t flash_start = 0x00000000;
// Size of flash
static const uint32_t flash_size = 0x00100000;

/**
* List of start and size for each size of flash sector - even indexes are start, odd are size
* The size will apply to all sectors between the listed address and the next address
* in the list.
* The last pair in the list will have sectors starting at that address and ending
* at address flash_start + flash_size.
*/
static const uint32_t sectors_info[] = {
    0x00000000, 0x00002000,
};

static const program_target_t flash = {
    0x20000d5d, // Init
    0x20000d83, // UnInit
    0x20000d87, // EraseChip
    0x20000da5, // EraseSector
    0x20000db3, // ProgramPage
    0x12000001f, // Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000e9c,
        0x20001100
    },

    0x20000000 + 0x00000A00,  // mem buffer location
    0x20000000,               // location to write prog_blob in target RAM
    sizeof(ama3b1kk_flash_prog_blob),   // prog_blob size
    ama3b1kk_flash_prog_blob,           // address of prog_blob
    0x00000200       // ram_to_flash_bytes_to_be_written
};
